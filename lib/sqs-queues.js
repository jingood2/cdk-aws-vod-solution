"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SqsQueues = void 0;
const cdk = require("@aws-cdk/core");
const sqs = require("@aws-cdk/aws-sqs");
class SqsQueues extends cdk.Construct {
    constructor(scope, id, props) {
        super(scope, id);
        this.deadLetter = new sqs.Queue(this, 'SqsDeadLetterQueue', {
            queueName: `${props.stackName}-SqsDeadLetterQueue`,
            visibilityTimeout: cdk.Duration.seconds(120),
            dataKeyReuse: cdk.Duration.seconds(300),
        });
        this.main = new sqs.Queue(this, 'MainSqsQueue', {
            queueName: `${props.stackName}-MainSqsQueue`,
            visibilityTimeout: cdk.Duration.seconds(120),
            dataKeyReuse: cdk.Duration.seconds(300),
            deadLetterQueue: {
                queue: this.deadLetter,
                maxReceiveCount: 1,
            },
        });
    }
}
exports.SqsQueues = SqsQueues;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3FzLXF1ZXVlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNxcy1xdWV1ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEscUNBQXFDO0FBRXJDLHdDQUF3QztBQU94QyxNQUFhLFNBQVUsU0FBUSxHQUFHLENBQUMsU0FBUztJQUsxQyxZQUFZLEtBQW9CLEVBQUUsRUFBVSxFQUFFLEtBQXFCO1FBQ2pFLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFakIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLG9CQUFvQixFQUFFO1lBQzFELFNBQVMsRUFBRSxHQUFHLEtBQUssQ0FBQyxTQUFTLHFCQUFxQjtZQUNsRCxpQkFBaUIsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7WUFDNUMsWUFBWSxFQUFFLEdBQUcsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztTQUN4QyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsY0FBYyxFQUFFO1lBQzlDLFNBQVMsRUFBRSxHQUFHLEtBQUssQ0FBQyxTQUFTLGVBQWU7WUFDNUMsaUJBQWlCLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO1lBQzVDLFlBQVksRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7WUFDdkMsZUFBZSxFQUFFO2dCQUNmLEtBQUssRUFBRSxJQUFJLENBQUMsVUFBVTtnQkFDdEIsZUFBZSxFQUFFLENBQUM7YUFDbkI7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0Y7QUF4QkQsOEJBd0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY2RrIGZyb20gJ0Bhd3MtY2RrL2NvcmUnO1xuaW1wb3J0IHsgS21zS2V5cyB9IGZyb20gJy4va21zLWtleXMnO1xuaW1wb3J0ICogYXMgc3FzIGZyb20gJ0Bhd3MtY2RrL2F3cy1zcXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNxc1F1ZXVlc1Byb3BzIHtcbiAga21zS2V5czogS21zS2V5cztcbiAgc3RhY2tOYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBTcXNRdWV1ZXMgZXh0ZW5kcyBjZGsuQ29uc3RydWN0IHtcblxuICBwdWJsaWMgcmVhZG9ubHkgbWFpbjogc3FzLlF1ZXVlOyBcbiAgcHVibGljIHJlYWRvbmx5IGRlYWRMZXR0ZXI6IHNxcy5RdWV1ZTtcblxuICBjb25zdHJ1Y3RvcihzY29wZTogY2RrLkNvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IFNxc1F1ZXVlc1Byb3BzKSB7XG4gICAgc3VwZXIoc2NvcGUsIGlkKTtcblxuICAgIHRoaXMuZGVhZExldHRlciA9IG5ldyBzcXMuUXVldWUodGhpcywgJ1Nxc0RlYWRMZXR0ZXJRdWV1ZScsIHtcbiAgICAgIHF1ZXVlTmFtZTogYCR7cHJvcHMuc3RhY2tOYW1lfS1TcXNEZWFkTGV0dGVyUXVldWVgLFxuICAgICAgdmlzaWJpbGl0eVRpbWVvdXQ6IGNkay5EdXJhdGlvbi5zZWNvbmRzKDEyMCksXG4gICAgICBkYXRhS2V5UmV1c2U6IGNkay5EdXJhdGlvbi5zZWNvbmRzKDMwMCksXG4gICAgfSk7XG5cbiAgICB0aGlzLm1haW4gPSBuZXcgc3FzLlF1ZXVlKHRoaXMsICdNYWluU3FzUXVldWUnLCB7XG4gICAgICBxdWV1ZU5hbWU6IGAke3Byb3BzLnN0YWNrTmFtZX0tTWFpblNxc1F1ZXVlYCxcbiAgICAgIHZpc2liaWxpdHlUaW1lb3V0OiBjZGsuRHVyYXRpb24uc2Vjb25kcygxMjApLFxuICAgICAgZGF0YUtleVJldXNlOiBjZGsuRHVyYXRpb24uc2Vjb25kcygzMDApLFxuICAgICAgZGVhZExldHRlclF1ZXVlOiB7XG4gICAgICAgIHF1ZXVlOiB0aGlzLmRlYWRMZXR0ZXIsXG4gICAgICAgIG1heFJlY2VpdmVDb3VudDogMSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn0iXX0=